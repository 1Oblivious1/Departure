# Документация проекта Departure Backend

## Структура проекта

### 1. Controllers
Содержит API-контроллеры, обрабатывающие HTTP-запросы:
- `UserController.cs` - управление пользователями
- `AuthController.cs` - аутентификация и авторизация
- `AchievementController.cs` - управление достижениями
- `TaskController.cs` - управление задачами
- `PostController.cs` - управление постами

### 2. Services
Содержит бизнес-логику приложения, разделенную по доменам:
- `Task_serv/` - сервисы для работы с задачами
- `User_serv/` - сервисы для работы с пользователями

### 3. Repositories
Обеспечивает доступ к данным и реализует паттерн Repository:
- Реализует CRUD операции для каждой сущности
- Абстрагирует работу с базой данных
- Содержит специфичные для каждой сущности методы доступа к данным

### 4. Models
Содержит модели данных, разделенные по доменам:
- `User_models/` - модели, связанные с пользователями
  - DTO для передачи данных
  - Модели запросов и ответов
  - Валидационные модели
- `Task_models/` - модели, связанные с задачами
  - DTO для передачи данных
  - Модели запросов и ответов
  - Валидационные модели

### 5. Database
Содержит конфигурацию и миграции базы данных:
- Контекст базы данных
- Конфигурация подключения
- Миграции для обновления схемы базы данных

### 6. Middleware
Содержит промежуточное ПО для обработки запросов:
- Обработка ошибок
- Логирование
- Аутентификация
- Авторизация
- Валидация запросов

## Технологический стек

- .NET Core
- Entity Framework Core
- SQL Server
- ASP.NET Core Web API

## Архитектура

Проект построен по принципу чистой архитектуры с разделением на слои:
1. Presentation Layer (Controllers)
   - Обработка HTTP-запросов
   - Валидация входных данных
   - Формирование ответов
2. Application Layer (Services)
   - Бизнес-логика
   - Координация работы между слоями
   - Транзакции
3. Domain Layer (Models)
   - Модели данных
   - Бизнес-правила
   - Валидация
4. Infrastructure Layer (Repositories, Database)
   - Доступ к данным
   - Конфигурация базы данных
   - Внешние сервисы

## Взаимодействие компонентов

1. Клиент отправляет HTTP-запрос
2. Контроллер принимает запрос и валидирует входные данные
3. Сервис обрабатывает бизнес-логику
4. Репозиторий взаимодействует с базой данных
5. Ответ возвращается клиенту через контроллер

## Требования к окружению

- .NET 6.0 или выше
- SQL Server
- Visual Studio 2022 или VS Code 